// Constante referitoare la interfață
const CHIP_STACK_HEIGHT = 7;

// Constante referitoare la regulile jocului.
const NUM_COLORS = 5;
const CHIP_SUPPLY = { 1: 4, 2: 4, 3: 5, 4: 7 }; // după numărul de jucători
const GOLD_SUPPLY = 5;
const NUM_LEVELS = 3;
const NUM_FACE_UP_CARDS = 4;
const NOBLE_POINTS = 3;

const CARDS = [
  // * costuri (roșu, verde, albastru, alb, negru)
  // * culoarea bonus
  // * puncte
  // * imaginea de fundal
  [ /* cărțile sînt indexate de la 1 */ ],
  [ [ 0, 0, 0, 3, 0 ], 0, 0, 0 ],
  [ [ 3, 0, 0, 0, 0 ], 1, 0, 8 ],
  [ [ 0, 0, 0, 0, 3 ], 2, 0, 14 ],
  [ [ 0, 0, 3, 0, 0 ], 3, 0, 18 ],
  [ [ 0, 3, 0, 0, 0 ], 4, 0, 26 ],
  [ [ 0, 1, 2, 0, 0 ], 0, 0, 0 ],
  [ [ 0, 0, 1, 2, 0 ], 1, 0, 6 ],
  [ [ 0, 0, 0, 1, 2 ], 2, 0, 14 ],
  [ [ 2, 0, 0, 0, 1 ], 3, 0, 18 ],
  [ [ 1, 2, 0, 0, 0 ], 4, 0, 24 ],
  [ [ 0, 0, 0, 4, 0 ], 0, 1, 2 ],
  [ [ 0, 0, 0, 0, 4 ], 1, 1, 6 ],
  [ [ 4, 0, 0, 0, 0 ], 2, 1, 12 ],
  [ [ 0, 4, 0, 0, 0 ], 3, 1, 20 ],
  [ [ 0, 0, 4, 0, 0 ], 4, 1, 24 ],
  [ [ 2, 0, 0, 2, 0 ], 0, 0, 2 ],
  [ [ 2, 0, 2, 0, 0 ], 1, 0, 8 ],
  [ [ 0, 2, 0, 0, 2 ], 2, 0, 12 ],
  [ [ 0, 0, 2, 0, 2 ], 3, 0, 20 ],
  [ [ 0, 2, 0, 2, 0 ], 4, 0, 26 ],
  [ [ 0, 1, 1, 1, 1 ], 0, 0, 2 ],
  [ [ 1, 0, 1, 1, 1 ], 1, 0, 8 ],
  [ [ 1, 1, 0, 1, 1 ], 2, 0, 12 ],
  [ [ 1, 1, 1, 0, 1 ], 3, 0, 18 ],
  [ [ 1, 1, 1, 1, 0 ], 4, 0, 24 ],
  [ [ 0, 1, 1, 2, 1 ], 0, 0, 0 ],
  [ [ 1, 0, 1, 1, 2 ], 1, 0, 6 ],
  [ [ 2, 1, 0, 1, 1 ], 2, 0, 14 ],
  [ [ 1, 2, 1, 0, 1 ], 3, 0, 20 ],
  [ [ 1, 1, 2, 1, 0 ], 4, 0, 26 ],
  [ [ 0, 1, 0, 2, 2 ], 0, 0, 2 ],
  [ [ 2, 0, 1, 0, 2 ], 1, 0, 6 ],
  [ [ 2, 2, 0, 1, 0 ], 2, 0, 14 ],
  [ [ 0, 2, 2, 0, 1 ], 3, 0, 18 ],
  [ [ 1, 0, 2, 2, 0 ], 4, 0, 24 ],
  [ [ 1, 0, 0, 1, 3 ], 0, 0, 0 ],
  [ [ 0, 1, 3, 1, 0 ], 1, 0, 8 ],
  [ [ 1, 3, 1, 0, 0 ], 2, 0, 12 ],
  [ [ 0, 0, 1, 3, 1 ], 3, 0, 20 ],
  [ [ 3, 1, 0, 0, 1 ], 4, 0, 26 ],
  [ [ 0, 0, 0, 0, 5 ], 0, 2, 1 ],
  [ [ 0, 5, 0, 0, 0 ], 1, 2, 7 ],
  [ [ 0, 0, 5, 0, 0 ], 2, 2, 17 ],
  [ [ 5, 0, 0, 0, 0 ], 3, 2, 19 ],
  [ [ 0, 0, 0, 5, 0 ], 4, 2, 25 ],
  [ [ 6, 0, 0, 0, 0 ], 0, 3, 5 ],
  [ [ 0, 6, 0, 0, 0 ], 1, 3, 7 ],
  [ [ 0, 0, 6, 0, 0 ], 2, 3, 13 ],
  [ [ 0, 0, 0, 6, 0 ], 3, 3, 23 ],
  [ [ 0, 0, 0, 0, 6 ], 4, 3, 29 ],
  [ [ 0, 0, 0, 3, 5 ], 0, 2, 5 ],
  [ [ 0, 3, 5, 0, 0 ], 1, 2, 11 ],
  [ [ 0, 0, 3, 5, 0 ], 2, 2, 13 ],
  [ [ 5, 0, 0, 0, 3 ], 3, 2, 23 ],
  [ [ 3, 5, 0, 0, 0 ], 4, 2, 29 ],
  [ [ 0, 2, 4, 1, 0 ], 0, 2, 1 ],
  [ [ 0, 0, 2, 4, 1 ], 1, 2, 11 ],
  [ [ 1, 0, 0, 2, 4 ], 2, 2, 17 ],
  [ [ 4, 1, 0, 0, 2 ], 3, 2, 19 ],
  [ [ 2, 4, 1, 0, 0 ], 4, 2, 29 ],
  [ [ 2, 0, 0, 2, 3 ], 0, 1, 1 ],
  [ [ 0, 0, 3, 2, 2 ], 1, 1, 11 ],
  [ [ 3, 2, 2, 0, 0 ], 2, 1, 13 ],
  [ [ 2, 3, 0, 0, 2 ], 3, 1, 19 ],
  [ [ 0, 2, 2, 3, 0 ], 4, 1, 25 ],
  [ [ 2, 0, 3, 0, 3 ], 0, 1, 5 ],
  [ [ 3, 2, 0, 3, 0 ], 1, 1, 7 ],
  [ [ 0, 3, 2, 0, 3 ], 2, 1, 17 ],
  [ [ 3, 0, 3, 2, 0 ], 3, 1, 23 ],
  [ [ 0, 3, 0, 3, 2 ], 4, 1, 25 ],
  [ [ 0, 7, 0, 0, 0 ], 0, 4, 3 ],
  [ [ 0, 0, 7, 0, 0 ], 1, 4, 9 ],
  [ [ 0, 0, 0, 7, 0 ], 2, 4, 15 ],
  [ [ 0, 0, 0, 0, 7 ], 3, 4, 21 ],
  [ [ 7, 0, 0, 0, 0 ], 4, 4, 28 ],
  [ [ 3, 7, 0, 0, 0 ], 0, 5, 3 ],
  [ [ 0, 3, 7, 0, 0 ], 1, 5, 10 ],
  [ [ 0, 0, 3, 7, 0 ], 2, 5, 16 ],
  [ [ 0, 0, 0, 3, 7 ], 3, 5, 22 ],
  [ [ 7, 0, 0, 0, 3 ], 4, 5, 28 ],
  [ [ 3, 6, 3, 0, 0 ], 0, 4, 4 ],
  [ [ 0, 3, 6, 3, 0 ], 1, 4, 10 ],
  [ [ 0, 0, 3, 6, 3 ], 2, 4, 15 ],
  [ [ 3, 0, 0, 3, 6 ], 3, 4, 22 ],
  [ [ 6, 3, 0, 0, 3 ], 4, 4, 27 ],
  [ [ 0, 3, 5, 3, 3 ], 0, 3, 4 ],
  [ [ 3, 0, 3, 5, 3 ], 1, 3, 9 ],
  [ [ 3, 3, 0, 3, 5 ], 2, 3, 16 ],
  [ [ 5, 3, 3, 0, 3 ], 3, 3, 21 ],
  [ [ 3, 5, 3, 3, 0 ], 4, 3, 27 ],
];

const NOBLES = [
  // * costuri (roșu, verde, albastru, alb, negru)
  [ /* nobilii sînt indexați de la 1 */ ],
  // costuri
  [ 4, 4, 0, 0, 0 ],
  [ 0, 4, 4, 0, 0 ],
  [ 0, 0, 4, 4, 0 ],
  [ 0, 0, 0, 4, 4 ],
  [ 4, 0, 0, 0, 4 ],
  [ 3, 3, 3, 0, 0 ],
  [ 0, 3, 3, 3, 0 ],
  [ 0, 0, 3, 3, 3 ],
  [ 3, 0, 0, 3, 3 ],
  [ 3, 3, 0, 0, 3 ],
];

const SAMPLE_GAME = `
{"players":["player1","player2"],"decks":[[38,33,37,31,15,16,13,7,8,34,12,40,4,20,3,26,19,35,2,9,30,18,29,17,5,22,21,24,28,32,25,14,27,11,1,36,10,6,39,23],[54,68,65,63,70,52,60,41,49,55,45,44,53,58,50,64,66,48,46,43,61,57,69,47,67,56,62,42,51,59],[79,76,72,78,74,87,90,77,85,73,88,86,89,71,75,84,82,81,83,80]],"nobles":[9,5,6],"rounds":[[{"tokens":[3,31],"returns":[],"kibitzes":[],"arbiterMsg":""},{"tokens":[3,79],"returns":[],"kibitzes":[],"arbiterMsg":""}],[{"tokens":[3,15],"returns":[],"kibitzes":[],"arbiterMsg":""},{"tokens":[3,78],"returns":[],"kibitzes":[],"arbiterMsg":""}],[{"tokens":[3,16],"returns":[],"kibitzes":[],"arbiterMsg":""},{"tokens":[3,87],"returns":[],"kibitzes":[],"arbiterMsg":""}],[{"tokens":[1,1,0,0,1,1],"returns":[],"kibitzes":[],"arbiterMsg":""},{"tokens":[1,1,1,1,0,0],"returns":[],"kibitzes":[],"arbiterMsg":""}],[{"tokens":[4,31,0,0,0,0,1,1,3],"returns":[],"kibitzes":[],"arbiterMsg":""},{"tokens":[4,38,0,1,1,1,0,0,2],"returns":[],"kibitzes":[],"arbiterMsg":""}]]}
`;
